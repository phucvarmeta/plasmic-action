"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ensureFileLocks = void 0;
function ensureFileLocks(lock) {
    for (const project of lock.projects) {
        // Ensure all `ProjectLock`s have `fileLock` array
        if (!project.fileLocks) {
            project.fileLocks = [];
        }
        // Ensure all `FileLock`s have valid checksums
        project.fileLocks = project.fileLocks.filter((fileLock) => typeof fileLock.checksum === "string" && fileLock.checksum.length === 32);
    }
    return lock;
}
exports.ensureFileLocks = ensureFileLocks;
